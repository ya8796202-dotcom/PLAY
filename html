<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ù†ØµØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ - ÙŠØ§Ø³Ø±</title>
  <style>
    :root {
      --bg:#0f0f14; --accent:#ff6fa9; --accent2:#7dd3fc; --text:#f5f5f7;
    }
    body {
      background:var(--bg); color:var(--text);
      font-family:"Segoe UI",system-ui; margin:0;
    }
    header {
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      padding:20px; text-align:center; color:#fff;
    }
    h1 { margin:0; font-size:2rem; }
    nav { margin-top:10px; }
    nav button {
      background:#fff; color:#0f0f14; border:none;
      padding:10px 16px; margin:5px; border-radius:8px;
      cursor:pointer; font-weight:bold;
    }
    .container { max-width:1000px; margin:auto; padding:20px; }
    .game { display:none; margin-top:20px; }
    canvas { background:#111119; border:1px solid #2b2b35; border-radius:8px; }
    .card-grid { display:grid; grid-template-columns:repeat(4,80px); gap:10px; justify-content:center; }
    .card {
      width:80px; height:80px; background:#1b1b25; border-radius:8px;
      display:flex; align-items:center; justify-content:center;
      font-size:24px; cursor:pointer; color:var(--accent);
    }
  </style>
</head>
<body>
  <header>
    <h1>ðŸŽ® Ù…Ù†ØµØ© Ø£Ù„Ø¹Ø§Ø¨ ÙŠØ§Ø³Ø±</h1>
    <nav>
      <button onclick="showGame('tic')">Tic-Tac-Toe</button>
      <button onclick="showGame('snake')">Snake</button>
      <button onclick="showGame('2048')">2048</button>
      <button onclick="showGame('memory')">Memory Cards</button>
    </nav>
  </header>

  <div class="container">
    <!-- Tic Tac Toe -->
    <div id="tic" class="game">
      <h2>Tic-Tac-Toe</h2>
      <canvas id="ticCanvas" width="300" height="300"></canvas>
    </div>

    <!-- Snake -->
    <div id="snake" class="game">
      <h2>Snake</h2>
      <canvas id="snakeCanvas" width="400" height="400"></canvas>
    </div>

    <!-- 2048 -->
    <div id="2048" class="game">
      <h2>2048</h2>
      <canvas id="c2048" width="320" height="320"></canvas>
    </div>

    <!-- Memory Cards -->
    <div id="memory" class="game">
      <h2>Memory Cards</h2>
      <div class="card-grid" id="memoryGrid"></div>
    </div>
  </div>

<script>
function showGame(id){
  document.querySelectorAll('.game').forEach(g=>g.style.display='none');
  document.getElementById(id).style.display='block';
}

/* --- Tic Tac Toe --- */
(function(){
  const c=document.getElementById('ticCanvas'),ctx=c.getContext('2d');
  let grid=Array(9).fill(null),turn='X';
  function draw(){
    ctx.clearRect(0,0,300,300); ctx.strokeStyle='#444';
    for(let i=1;i<3;i++){ ctx.beginPath(); ctx.moveTo(i*100,0); ctx.lineTo(i*100,300); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(0,i*100); ctx.lineTo(300,i*100); ctx.stroke(); }
    ctx.font='64px system-ui'; ctx.textAlign='center'; ctx.textBaseline='middle';
    grid.forEach((v,i)=>{ if(v){ const x=(i%3)*100+50,y=Math.floor(i/3)*100+50;
      ctx.fillStyle=v==='X'?'#ff6fa9':'#7dd3fc'; ctx.fillText(v,x,y); }});
  }
  function winner(g){
    const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
    for(const [a,b,c] of w){ if(g[a]&&g[a]===g[b]&&g[a]===g[c]) return g[a]; }
    return g.every(Boolean)?'ØªØ¹Ø§Ø¯Ù„':null;
  }
  c.addEventListener('click',e=>{
    const rect=c.getBoundingClientRect();
    const x=e.clientX-rect.left,y=e.clientY-rect.top;
    const i=Math.floor(x/100)+Math.floor(y/100)*3;
    if(grid[i]) return;
    grid[i]=turn; turn=turn==='X'?'O':'X';
    const w=winner(grid); draw();
    if(w){ setTimeout(()=>{ alert('Ø§Ù„Ù†ØªÙŠØ¬Ø©: '+w); grid=Array(9).fill(null); turn='X'; draw(); },50); }
  });
  draw();
})();

/* --- Snake --- */
(function(){
  const c=document.getElementById('snakeCanvas'),ctx=c.getContext('2d');
  let snake=[{x:200,y:200}],dir={x:20,y:0},food={x:100,y:100};
  function draw(){
    ctx.fillStyle='#111119'; ctx.fillRect(0,0,400,400);
    ctx.fillStyle='#ff6fa9'; snake.forEach(s=>ctx.fillRect(s.x,s.y,20,20));
    ctx.fillStyle='#7dd3fc'; ctx.fillRect(food.x,food.y,20,20);
  }
  function update(){
    const head={x:snake[0].x+dir.x,y:snake[0].y+dir.y};
    snake.unshift(head);
    if(head.x===food.x&&head.y===food.y){
      food={x:Math.floor(Math.random()*20)*20,y:Math.floor(Math.random()*20)*20};
    } else snake.pop();
    if(head.x<0||head.y<0||head.x>=400||head.y>=400||snake.slice(1).some(s=>s.x===head.x&&s.y===head.y)){
      alert('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©'); snake=[{x:200,y:200}]; dir={x:20,y:0};
    }
    draw();
  }
  setInterval(update,200);
  window.addEventListener('keydown',e=>{
    if(e.key==='ArrowUp') dir={x:0,y:-20};
    if(e.key==='ArrowDown') dir={x:0,y:20};
    if(e.key==='ArrowLeft') dir={x:-20,y:0};
    if(e.key==='ArrowRight') dir={x:20,y:0};
  });
})();

/* --- 2048 --- */
(function(){
  const cv=document.getElementById('c2048'),cx=cv.getContext('2d');
  let grid=Array(16).fill(0);
  const addTile=()=>{ const e=grid.map((v,i)=>v?null:i).filter(v=>v!==null);
    if(!e.length) return; const i=e[Math.floor(Math.random()*e.length)];
    grid[i]=Math.random()<0.9?2:4; };
  const draw=()=>{ cx.fillStyle='#0f0f14'; cx.fillRect(0,0,320,320);
    for(let r=0;r<4;r++)for(let c=0;c<4;c++){ const v=grid[r*4+c];
      cx.fillStyle=v?`hsl(${Math.min(280,Math.log2(v)*25)},70%,55%)`:'#1b1b25';
      cx.fillRect(c*80+6,r*80+6,68,68);
      if(v){ cx.fillStyle='#fff'; cx.font='bold 20px system-ui'; cx.textAlign='center'; cx.textBaseline='middle';
        cx.fillText(v,c*80+40,r*80+40); } } };
  function move(dir){
    let moved=false;
    const lines=[]; for(let r=0;r<4;r++){ lines.push(grid.slice(r*4,r*4+4)); }
    const rot=m=>{ const o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];
      for(let r=0;r<4;r++)for(let c
